<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<?import java.lang.String?>

<StackPane xmlns="http://javafx.com/javafx/17"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="controllers.ChatroomViewController"
           styleClass="root"
           stylesheets="@/css/DiscordTheme.css">

    <BorderPane prefHeight="720.0" prefWidth="1280.0">
        <top>
            <StackPane BorderPane.alignment="CENTER">
                <styleClass>
                    <String fx:value="panel"/>
                    <String fx:value="header-panel"/>
                </styleClass>
                <BorderPane>
                    <left>
                        <HBox alignment="CENTER_LEFT" spacing="10" styleClass="app-header" BorderPane.alignment="CENTER">
                            <ImageView fx:id="appIcon" fitHeight="32" fitWidth="32" preserveRatio="true">
                                <Image url="@/images/feline.png"/>
                            </ImageView>
                            <Text text="CHATROOM" styleClass="app-header-title"/>
                        </HBox>
                    </left>
                    <center>
                        <HBox alignment="CENTER_LEFT" spacing="20" BorderPane.alignment="CENTER_LEFT">
                            <padding>
                                <Insets left="40.0" />
                            </padding>
                            <Button text="Dashboard" styleClass="nav-button-selected"/>
                            <Button text="Friends" styleClass="nav-button"/>
                            <Button text="Create Group Chat" styleClass="nav-button"/>
                            <Button text="Notifications" styleClass="nav-button"/>
                        </HBox>
                    </center>
                    <right>
                        <StackPane styleClass="account-avatar" BorderPane.alignment="CENTER">
                            <fx:include fx:id="accountAvatar" source="/fxml/StatusIcon.fxml"/>
                        </StackPane>
                    </right>
                </BorderPane>
            </StackPane>
        </top>
        <left>
            <StackPane BorderPane.alignment="CENTER">
                <BorderPane.margin>
                    <Insets top="10"/>
                </BorderPane.margin>
                
                <styleClass>
                    <String fx:value="panel"/>
                    <String fx:value="chat-list-panel"/>
                </styleClass>
                <VBox prefWidth="240.0" spacing="10" styleClass="chat-list" stylesheets="@/css/SearchBar.css">
                    <Text fill="WHITE" styleClass="chat-list-title" text="CHATS"/>
                    <fx:include fx:id="chatSearch" source="SearchBar.fxml"/>
                    <Separator/>
                    <fx:include fx:id="userOneCard" source="NameCard.fxml"/>
                    <fx:include fx:id="userTwo" source="NameCard.fxml"/>
                </VBox>
            </StackPane>
        </left>
        <center>
            <StackPane BorderPane.alignment="CENTER">
                <BorderPane.margin>
                    <Insets top="10" left="10" right="10"/>
                </BorderPane.margin>
                
                <styleClass>
                    <String fx:value="panel"/>
                    <String fx:value="chat-area-panel"/>
                </styleClass>
                <BorderPane>
                    <top>
                        <HBox alignment="CENTER_LEFT" prefHeight="50.0" styleClass="chat-header">
                            <Text fill="WHITE" styleClass="chat-header-text" text="group-chat"/>
                        </HBox>
                    </top>
                    <center>
                        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="ALWAYS" styleClass="scroll-pane">
                            <VBox prefHeight="602.0" prefWidth="728.0" spacing="20.0" styleClass="chat-messages-area">
                                <padding>
                                    <Insets bottom="10.0" left="15.0" right="15.0" top="10.0"/>
                                </padding>
                                <!-- Mock Messages (Omitted for brevity) -->
                                <HBox spacing="15.0">
                                    <fx:include fx:id="avatarIcon" source="/fxml/StatusIcon.fxml"/>
                                    <VBox>
                                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                                            <Text fill="#ffffff" styleClass="message-username" text="Username"/>
                                            <Text fill="#a3a6aa" styleClass="message-timestamp"
                                                  text="Today at 9:20 PM"/>
                                        </HBox>
                                        <Text fill="#dcddde" styleClass="message-content"
                                              text="Hey everyone! This is the first message." wrappingWidth="600.0"/>
                                    </VBox>
                                </HBox>

                                <HBox spacing="15.0">
                                    <fx:include fx:id="avatarIcon2" source="/fxml/StatusIcon.fxml"/>
                                    <VBox>
                                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                                            <Text fill="#f25757" styleClass="message-username" text="Username"/>
                                            <Text fill="#a3a6aa" styleClass="message-timestamp"
                                                  text="Today at 9:21 PM"/>
                                        </HBox>
                                        <Text fill="#dcddde" styleClass="message-content"
                                              text="Welcome to the server! Trying to make this look as much like Discord as possible. It's tricky with just FXML and CSS, but it's a start."
                                              wrappingWidth="600.0"/>
                                    </VBox>
                                </HBox>

                                <HBox spacing="15.0">
                                    <fx:include fx:id="avatarIcon3" source="/fxml/StatusIcon.fxml"/>
                                    <VBox>
                                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                                            <Text fill="#57f287" styleClass="message-username" text="Username"/>
                                            <Text fill="#a3a6aa" styleClass="message-timestamp"
                                                  text="Today at 9:22 PM"/>
                                        </HBox>
                                        <Text fill="#dcddde" styleClass="message-content"
                                              text="Looks pretty good so far!" wrappingWidth="600.0"/>
                                    </VBox>
                                </HBox>
                            </VBox>
                        </ScrollPane>
                    </center>
                    <bottom>
                        <HBox alignment="CENTER" prefHeight="68.0" styleClass="chat-input-box">
                            <TextField prefHeight="44.0" prefWidth="690.0" promptText="Enter message..."
                                       styleClass="chat-input-field"/>
                        </HBox>
                    </bottom>
                </BorderPane>
            </StackPane>
        </center>
        <right>
            <StackPane BorderPane.alignment="CENTER">
                <BorderPane.margin>
                    <Insets top="10"/>
                </BorderPane.margin>
                
                <styleClass>
                    <String fx:value="panel"/>
                    <String fx:value="member-list-panel"/>
                </styleClass>
                <VBox prefHeight="720.0" prefWidth="240.0" spacing="10" styleClass="member-list" stylesheets="@/css/SearchBar.css">
                    <Text fill="#8e9297" styleClass="user-list-category" text="MEMBERS (3 ONLINE)"/>
                    <fx:include fx:id="memberSearch" source="SearchBar.fxml"/>
                    <Separator/>
                    <fx:include fx:id="userCard1" source="NameCard.fxml"/>
                    <fx:include fx:id="userCard2" source="NameCard.fxml"/>
                    <fx:include fx:id="userCard3" source="NameCard.fxml"/>
                </VBox>
            </StackPane>
        </right>
    </BorderPane>
</StackPane>