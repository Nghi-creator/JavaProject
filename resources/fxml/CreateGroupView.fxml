<?xml version="1.0" encoding="UTF-8"?>

<!--
  *** FIX ***
  - Changed list items to HBox to bring the plus button closer to the name.
-->

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>
<?import java.lang.String?>

<StackPane xmlns="http://javafx.com/javafx/17"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="controllers.CreateGroupViewController"
           styleClass="root"
           stylesheets="@../css/DiscordTheme.css">

    <BorderPane prefHeight="720.0" prefWidth="1280.0">
        <top>
            <StackPane BorderPane.alignment="CENTER">
                <styleClass>
                    <String fx:value="panel"/>
                    <String fx:value="header-panel"/>
                </styleClass>
                <BorderPane>
                    <left>
                        <HBox alignment="CENTER_LEFT" spacing="10" styleClass="app-header" BorderPane.alignment="CENTER">
                            <ImageView fx:id="appIcon" fitHeight="32" fitWidth="32" preserveRatio="true">
                                <Image url="@../images/feline.png"/>
                            </ImageView>
                            <Text text="CHATROOM" styleClass="app-header-title"/>
                        </HBox>
                    </left>
                    <center>
                        <HBox alignment="CENTER_LEFT" spacing="20" BorderPane.alignment="CENTER_LEFT">
                            <padding>
                                <Insets left="40.0" />
                            </padding>
                            <Button text="Chat" styleClass="nav-button" onAction="#handleDashboardClick"/>
                            <Button text="Friends" styleClass="nav-button" onAction="#handleFriendsClick"/>
                            <Button text="Create Group Chat" styleClass="nav-button-selected"/>
                            <Button text="Notifications" styleClass="nav-button"/>
                        </HBox>
                    </center>
                    <right>
                        <StackPane styleClass="account-avatar" BorderPane.alignment="CENTER">
                            <fx:include fx:id="accountAvatar" source="StatusIcon.fxml"/>
                        </StackPane>
                    </right>
                </BorderPane>
            </StackPane>
        </top>

        <center>
            <StackPane BorderPane.alignment="CENTER">
                <BorderPane.margin>
                    <Insets top="10" left="10" right="10"/>
                </BorderPane.margin>

                <styleClass>
                    <String fx:value="panel"/>
                    <String fx:value="chat-area-panel"/>
                </styleClass>

                <VBox spacing="15">
                    <padding>
                        <Insets top="15" left="15" right="15" bottom="15"/>
                    </padding>
                    
                    <VBox spacing="5">
                        <Text text="Group name (optional)" styleClass="form-label"/>
                        <TextField promptText="Enter group name..." styleClass="form-input-field"/>
                    </VBox>
                    
                    <VBox spacing="5">
                         <Text text="Search friends" styleClass="form-label"/>
                         <fx:include fx:id="memberSearch" source="SearchBar.fxml"/>
                    </VBox>
                    
                    <Separator styleClass="list-separator"/>
                    
                    <Text text="Suggested" styleClass="suggested-header"/>
                    
                    <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="ALWAYS" styleClass="scroll-pane" VBox.vgrow="ALWAYS">
                         <VBox spacing="5" styleClass="suggested-list-vbox">
                            
                            <!-- User 1 - Using HBox to bring button closer -->
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <fx:include source="NameCard.fxml"/>
                                <Button text="+" styleClass="add-friend-button"/>
                            </HBox>
                            
                            <!-- User 2 -->
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <fx:include source="NameCard.fxml"/>
                                <Button text="+" styleClass="add-friend-button"/>
                            </HBox>
                            
                            <!-- User 3 -->
                            <HBox alignment="CENTER_LEFT" spacing="10">
                                <fx:include source="NameCard.fxml"/>
                                <Button text="+" styleClass="add-friend-button"/>
                            </HBox>
                            
                         </VBox>
                    </ScrollPane>
                    
                    <HBox alignment="CENTER_RIGHT">
                        <Button text="Create Group" styleClass="create-group-button"/>
                    </HBox>
                    
                </VBox>
            </StackPane>
        </center>
    </BorderPane>
</StackPane>